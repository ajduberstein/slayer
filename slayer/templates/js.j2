{{ viewport }};

const layers = [
  {{ layers }}
];

const deckgl = new deck.DeckGL({
  container: 'container',
  mapboxApiAccessToken: '{{ mapbox_api_key }}',
  viewState: INITIAL_VIEWPORT_STATE,
  controller: deck.MapController,
  onViewportChange,
  layers
});

function onViewportChange(viewport) {
  {% if interactive %}
    console.log('Viewport attributes')
    console.log(JSON.stringify(viewport))
  {% endif %}
  deckgl.setProps({viewState: viewport});
}
