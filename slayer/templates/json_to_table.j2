function buildTable(jsonObject) {
  const keys = Object.keys(jsonObject);
  if (keys.indexOf('points') > -1) {
    return processAggregated(jsonObject.points)
  }
  var resStr = ''
  for (var i = 0; i < keys.length; i++) {
    if (key === 'screenCoord') {
      continue;
    }
    resStr += '<b>' + keys[i] + '</b> ' + jsonObject[keys[i]]
    if (i !== keys.length - 1) {
      resStr += '<br />'
    }
  }
  return resStr;
}

function processAggregated(points) {
  plotPoint = points[0]
  return buildTable({
    "First Point": "<br/>" + buildTable(points[0]),
    "Number of Points": points.length
  })
}
